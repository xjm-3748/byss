packag hotbitmapgg bilibili network import facebook stetho okhttp stetho interceptor import hotbitmapgg bilibili bilibili app import hotbitmapgg bilibili network api account servic import hotbitmapgg bilibili network api bangumi servic import hotbitmapgg bilibili network api bili api servic import hotbitmapgg bilibili network api bili app servic import hotbitmapgg bilibili network api bili servic import hotbitmapgg bilibili network api servic import hotbitmapgg bilibili network api live servic import hotbitmapgg bilibili network api rank servic import hotbitmapgg bilibili network api search servic import hotbitmapgg bilibili network api user servic import hotbitmapgg bilibili network api vip servic import hotbitmapgg bilibili network auxiliari api constant import hotbitmapgg bilibili util common util import java file import java import java util concurr time unit import okhttp cach import okhttp cach control import okhttp interceptor import okhttp http client import okhttp request import okhttp respons import okhttp log http log interceptor import retrofit retrofit import retrofit adapt rxjava java call adapt factori import retrofit convert gson gson convert factori creat hcc retrofit public class retrofit helper privat static http client http client static init http client public static live servic live return creat api live servic class api constant public static bili app servic bili app return creat api bili app servic class api constant public static bili api servic bili return creat api bili api servic class api constant public static bili servic bili return creat api bili servic class api constant public static rank servic rank return creat api rank servic class api constant public static user servic user return creat api user servic class api constant public static vip servic vip return creat api vip servic class api constant public static bangumi servic bangumi return creat api bangumi servic class api constant public static search servic search return creat api search servic class api constant public static account servic account return creat api account servic class api constant public static servic return creat api servic class api constant base url api retrofit privat static creat api class clazz string base url retrofit retrofit retrofit builder base url base url client http client add call adapt factori java call adapt factori creat add convert factori gson convert factori creat build return retrofit creat clazz http client privat static void init http client http log interceptor interceptor http log interceptor interceptor set level http log interceptor level http client null synchron retrofit helper class http client null http cach cach cach file bilibili app instanc cach dir http cach http client http client builder cach cach add interceptor interceptor add network interceptor cach interceptor add network interceptor stetho interceptor retri connect failur true connect timeout time unit write timeout time unit read timeout time unit add interceptor user agent interceptor build privat static class user agent interceptor implement interceptor overrid public respons intercept chain chain throw request origin request chain request request request user agent origin request builder remov header user agent add header user agent api constant build return chain proceed request user agent okhttp okhttp privat static class cach interceptor implement interceptor overrid public respons intercept chain chain throw int max age int max stale request request chain request common util network avail bilibili app instanc request request builder cach control cach control build els request request builder cach control cach control build respons respons chain proceed request common util network avail bilibili app instanc respons respons builder remov header pragma header cach control public max age max age build els respons respons builder remov header pragma header cach control public onli cach max stale max stale build return respons 