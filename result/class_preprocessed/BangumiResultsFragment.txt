packag hotbitmapgg bilibili modul search import android graphic drawabl anim drawabl import android bundl import android support widget linear layout manag import android support widget recycl view import android view layout inflat import android view view import android widget imag view import hotbitmapgg bilibili adapt bangumi result adapt import hotbitmapgg bilibili adapt helper endless recycl scroll listen import hotbitmapgg bilibili adapt helper header view recycl adapt import hotbitmapgg bilibili base lazi fragment import hotbitmapgg bilibili entiti search search bangumi info import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili util constant util import hotbitmapgg ohmybilibili import java util array list import java util list import java util concurr time unit import butterknif bind view import android schedul android schedul import schedul schedul creat hcc public class bangumi result fragment extend lazi fragment bind view recycl recycl view recycl view bind view empti view imag view empti view bind view search load imag view load view privat string content privat int page num privat int page size privat view load view privat anim drawabl anim drawabl privat header view recycl adapt header view recycl adapt privat list search bangumi info data bean item bean bangumi array list public static bangumi result fragment instanc string content bangumi result fragment fragment bangumi result fragment bundl bundl bundl bundl put string constant util content fragment set argument bundl return fragment overrid public int layout res return layout fragment search result overrid public void finish creat view bundl state content argument string constant util load view set imag resourc drawabl anim search load anim drawabl anim drawabl load view drawabl show search anim prepar true lazi load overrid protect void lazi load prepar visibl return init recycl view load data prepar fals overrid protect void init recycl view recycl view set fix size true linear layout manag linear layout manag linear layout manag activ recycl view set layout manag linear layout manag bangumi result adapt adapt bangumi result adapt recycl view bangumi header view recycl adapt header view recycl adapt adapt recycl view set adapt header view recycl adapt creat load view recycl view add scroll listen endless recycl scroll listen linear layout manag overrid public void load int page num load data load view set visibl view overrid protect void load data retrofit helper bili app search bangumi content page num page size compos bind lifecycl map search bangumi info data delay time unit subscrib schedul observ android schedul main thread data bean data bean item size page size load view set visibl view header view recycl adapt remov foot view subscrib data bean bangumi add data bean item finish task throwabl hide search anim show empti view load view set visibl view overrid protect void finish task bangumi null bangumi size show empti view els hide empti view hide search anim load view set visibl view page num page size page size header view recycl adapt notifi item rang chang page num page size page size page size els header view recycl adapt notifi data set chang privat void creat load view load view layout inflat activ inflat layout layout load recycl view fals header view recycl adapt add footer view load view load view set visibl view privat void show search anim load view set visibl view anim drawabl start privat void hide search anim load view set visibl view anim drawabl stop public void show empti view empti view set visibl view public void hide empti view empti view set visibl view 