packag hotbitmapgg bilibili modul video import android bundl import android support widget linear layout manag import android support widget recycl view import android view layout inflat import android view view import hotbitmapgg bilibili adapt video comment adapt import hotbitmapgg bilibili adapt video hot comment adapt import hotbitmapgg bilibili adapt helper endless recycl scroll listen import hotbitmapgg bilibili adapt helper header view recycl adapt import hotbitmapgg bilibili base lazi fragment import hotbitmapgg bilibili entiti video video comment info import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili util constant util import hotbitmapgg ohmybilibili import java util array list import butterknif bind view import android schedul android schedul import schedul schedul creat hcc public class video comment fragment extend lazi fragment bind view recycl recycl view recycl view privat int aid privat int page num privat int page size privat view head view privat view load view privat header view recycl adapt adapt privat video hot comment adapt video hot comment adapt privat array list video comment info list comment array list privat array list video comment info hot list hot comment array list public static video comment fragment instanc int aid video comment fragment fragment video comment fragment bundl bundl bundl bundl put int constant util aid fragment set argument bundl return fragment overrid public int layout res return layout fragment video comment overrid public void finish creat view bundl state aid argument int constant util init recycl view load data overrid protect void init recycl view video comment adapt recycl adapt video comment adapt recycl view comment recycl view set fix size true linear layout manag linear layout manag linear layout manag activ recycl view set layout manag linear layout manag adapt header view recycl adapt recycl adapt recycl view set adapt adapt creat head view creat load view recycl view add scroll listen endless recycl scroll listen linear layout manag overrid public void load int page num load data load view set visibl view overrid protect void load data int ver retrofit helper bili video comment aid page num page size ver compos bind lifecycl subscrib schedul observ android schedul main thread subscrib video comment array list video comment info list list video comment list array list video comment info hot list hot list video comment hot list list size page size load view set visibl view adapt remov foot view comment add list hot comment add hot list finish task throwabl load view set visibl view head view set visibl view overrid protect void finish task load view set visibl view video hot comment adapt notifi data set chang page num page size page size adapt notifi item rang chang page num page size page size page size els adapt notifi data set chang privat void creat head view head view layout inflat activ inflat layout layout video hot comment head recycl view fals recycl view hot comment recycl recycl view head view find view hot comment recycl hot comment recycl set fix size fals hot comment recycl set nest scroll enabl fals hot comment recycl set layout manag linear layout manag activ video hot comment adapt video hot comment adapt hot comment recycl hot comment hot comment recycl set adapt video hot comment adapt adapt add header view head view privat void creat load view load view layout inflat activ inflat layout layout load recycl view fals adapt add footer view load view load view set visibl view 