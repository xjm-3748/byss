packag hotbitmapgg bilibili widget import android content context import android content res type array import android graphic bitmap import android graphic bitmap shader import android graphic canva import android graphic color import android graphic color filter import android graphic matrix import android graphic paint import android graphic rect import android graphic shader import android graphic drawabl bitmap drawabl import android graphic drawabl color drawabl import android graphic drawabl drawabl import android net uri import android support annot color res import android support annot drawabl res import android util attribut set import android widget imag view import hotbitmapgg ohmybilibili creat hcc public class circl imag view extend imag view privat static final scale type scale type privat static final bitmap config bitmap config privat static final int privat static final int privat static final int color privat static final boolean fals privat final rect drawabl rect rect privat final rect border rect rect privat final matrix shader matrix matrix privat final paint bitmap paint paint privat final paint border paint paint privat int border color privat int border width privat bitmap bitmap privat bitmap shader bitmap shader privat int bitmap width privat int bitmap height privat float drawabl radius privat float border radius privat color filter color filter privat boolean readi privat boolean setup pend privat boolean border overlay public circl imag view context context super context init public circl imag view context context attribut set attr context attr public circl imag view context context attribut set attr int def style super context attr def style type array context obtain style attribut attr styleabl circl imag view def style border width dimens pixel size styleabl circl imag view border width border color color styleabl circl imag view border color border overlay boolean styleabl circl imag view border overlay recycl init privat void init super set scale type readi true setup pend setup setup pend fals overrid public scale type scale type return overrid public void set scale type scale type scale type scale type throw illeg argument string format scale type support scale type overrid public void set adjust view bound boolean adjust view bound adjust view bound throw illeg argument adjust view bound support overrid protect void draw canva canva drawabl null return canva draw circl width height drawabl radius bitmap paint border width canva draw circl width height border radius border paint overrid protect void size chang int int int oldw int oldh super size chang oldw oldh setup public int border color return border color public void set border color int border color border color border color return border color border color border paint set color border color invalid public void set border color resourc color res int border color res set border color context resourc color border color res public int border width return border width public void set border width int border width border width border width return border width border width setup public boolean border overlay return border overlay public void set border overlay boolean border overlay border overlay border overlay return border overlay border overlay setup overrid public void set imag bitmap bitmap super set imag bitmap bitmap setup overrid public void set imag drawabl drawabl drawabl super set imag drawabl drawabl bitmap bitmap drawabl drawabl setup overrid public void set imag resourc drawabl res int res super set imag resourc res bitmap bitmap drawabl drawabl setup overrid public void set imag uri uri super set imag uri bitmap bitmap drawabl drawabl setup overrid public void set color filter color filter color filter return color filter bitmap paint set color filter color filter invalid privat bitmap bitmap drawabl drawabl drawabl drawabl null return null drawabl instanceof bitmap drawabl return bitmap drawabl drawabl bitmap tri bitmap bitmap drawabl instanceof color drawabl bitmap bitmap creat bitmap els bitmap bitmap creat bitmap drawabl intrins width drawabl intrins height canva canva canva bitmap drawabl set bound canva width canva height drawabl draw canva return bitmap catch memori error return null privat void setup readi setup pend true return bitmap null return bitmap shader bitmap shader bitmap shader tile mode shader tile mode bitmap paint set anti alia true bitmap paint set shader bitmap shader border paint set style paint style border paint set anti alia true border paint set color border color border paint set stroke width border width bitmap height bitmap height bitmap width bitmap width border rect set width height border radius math min border rect height border width border rect width border width drawabl rect set border rect border overlay drawabl rect inset border width border width drawabl radius math min drawabl rect height drawabl rect width updat shader matrix invalid privat void updat shader matrix float scale float float shader matrix set null bitmap width drawabl rect height drawabl rect width bitmap height scale drawabl rect height float bitmap height drawabl rect width bitmap width scale els scale drawabl rect width float bitmap width drawabl rect height bitmap height scale shader matrix set scale scale scale shader matrix post translat int drawabl rect left int drawabl rect top bitmap shader set local matrix shader matrix 