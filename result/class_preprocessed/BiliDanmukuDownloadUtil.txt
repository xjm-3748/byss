packag hotbitmapgg bilibili media danmuku import android text text util import org jsoup jsoup import org jsoup helper http connect import java byte array input stream import java import java input stream import java util zip data format import master flame danmaku danmaku loader loader import master flame danmaku danmaku loader illeg data import master flame danmaku danmaku loader android danmaku loader factori import master flame danmaku danmaku model danmakus import master flame danmaku danmaku model android danmakus import master flame danmaku danmaku parser base danmaku parser import master flame danmaku danmaku parser data sourc import observ import schedul schedul creat hcc public class bili danmuku download util public static observ base danmaku parser download final string uri return observ creat observ subscrib base danmaku parser subscrib text util empti uri subscrib base danmaku parser overrid protect danmakus pars return danmakus loader loader null tri http connect respons rsp http connect respons jsoup connect uri timeout execut input stream stream byte array input stream bili danmuku compress tool decompress rsp bodi byte loader danmaku loader factori creat danmaku loader factori loader load stream catch data format illeg data print stack trace base danmaku parser parser bili danmuku parser assert loader null data sourc data sourc loader data sourc parser load data sourc subscrib parser subscrib schedul 