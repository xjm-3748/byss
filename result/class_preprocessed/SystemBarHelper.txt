packag hotbitmapgg bilibili util import android annot target api import android app activ import android content context import android graphic color import android build import android support annot color int import android support annot float rang import android support view view compat import android support widget drawer layout import android util log import android view view import android view view group import android view window import android view window manag import android widget frame layout import hotbitmapgg ohmybilibili import java lang reflect field import java lang reflect method import java util regex pattern android public class system bar helper privat static float build build android param activ activ param status bar color public static void tint status bar activ activ color int int status bar color tint status bar activ status bar color android param activ activ param status bar color param alpha public static void tint status bar activ activ color int int status bar color float rang float alpha tint status bar activ window status bar color alpha android param window activ window dialog dialog fragment param status bar color public static void tint status bar window window color int int status bar color tint status bar window status bar color android param window activ window dialog dialog fragment param status bar color param alpha public static void tint status bar window window color int int status bar color float rang float alpha build build return build build window clear flag window manag layout param window add flag window manag layout param window set status bar color color els window add flag window manag layout param view group decor view view group window decor view view group content view view group window decor view find view window view root view content view child root view null view compat set fit system window root view true set status bar decor view status bar color true set transluc view decor view alpha android drawer layout fit system window drawer layout fit system window param activ activ param drawer layout drawer layout param status bar color public static void tint status bar drawer activ activ drawer layout drawer layout color int int status bar color tint status bar drawer activ drawer layout status bar color android drawer layout fit system window drawer layout fit system window param activ activ param drawer layout drawer layout param status bar color param alpha public static void tint status bar drawer activ activ drawer layout drawer layout color int int status bar color float rang float alpha build build return window window activ window view group decor view view group window decor view view group draw content view group drawer layout child build build window clear flag window manag layout param window add flag window manag layout param window set status bar color color drawer layout set status bar background color status bar color int system visibl window decor view system visibl system visibl view system visibl view window decor view set system visibl system visibl els window add flag window manag layout param set status bar decor view status bar color true true set transluc view decor view alpha drawer layout set fit system window fals draw content set fit system window true view group drawer view group drawer layout child drawer set fit system window fals android fit system window android fit system window forc fit system window fit system window android param activ activ public static void immers status bar activ activ immers status bar activ android fit system window android fit system window forc fit system window fit system window android param activ activ param alpha public static void immers status bar activ activ float rang float alpha immers status bar activ window alpha android fit system window android fit system window forc fit system window fit system window android param window activ window dialog dialog fragment public static void immers status bar window window immers status bar window android fit system window android fit system window forc fit system window fit system window android param window activ window dialog dialog fragment param alpha public static void immers status bar window window float rang float alpha build build return build build window clear flag window manag layout param window add flag window manag layout param window set status bar color color int system visibl window decor view system visibl system visibl view system visibl view window decor view set system visibl system visibl els window add flag window manag layout param view group decor view view group window decor view view group content view view group window decor view find view window view root view content view child int status bar height status bar height window context root view null frame layout layout param frame layout layout param root view layout param view compat set fit system window root view true top margin status bar height root view set layout param set transluc view decor view alpha dark mode icon flyme android public static void set status bar dark mode activ activ set status bar dark mode activ window dark mode icon flyme android public static void set status bar dark mode window window flyme set status bar dark mode flyme window true els set status bar dark mode window true els build build set status bar dark mode window android target api build public static void set status bar dark mode window window window clear flag window manag layout param window add flag window manag layout param window set status bar color color int system visibl window decor view system visibl system visibl view window decor view set system visibl system visibl flyme dark mode dark mode icon http open wiki flyme index php titl flyme public static boolean set status bar dark mode flyme window window boolean dark boolean result fals window null tri window manag layout param window attribut field dark flag window manag layout param class declar field field meizu flag window manag layout param class declar field meizu flag dark flag set access true meizu flag set access true int bit dark flag int null int valu meizu flag int dark valu bit els valu bit meizu flag set int valu window set attribut result true catch var log status bar set status bar dark icon fail return result dark mode dark mode icon http dev xiaomi doc public static void set status bar dark mode window window boolean darkmod class extend window clazz window class tri int dark mode flag class layout param class android view miui window manag layout param field field layout param field dark mode flag field int layout param method extra flag field clazz method set extra flag int class int class extra flag field invok window darkmod dark mode flag dark mode flag catch print stack trace view privat static void set status bar view group color int int status bar color boolean visibl boolean add build build view status bar view find view statusbar view status bar view null status bar view view context status bar view set statusbar view view group layout param view group layout param view group layout param status bar height context add add view status bar view els add view status bar view status bar view set background color status bar color status bar view set visibl visibl view view view privat static void set status bar view group color int int status bar color boolean visibl set status bar status bar color visibl fals privat static void set transluc view view group float rang float alpha build build view transluc view find view transluc view transluc view null transluc view view context transluc view set transluc view view group layout param view group layout param view group layout param status bar height context add view transluc view transluc view set background color color argb int alpha public static int status bar height context context int result int res context resourc identifi status bar height dimen android res result context resourc dimens pixel size res return result flyme public static boolean flyme return build flyme build flyme pattern compil flyme pattern matcher build find public static boolean tri class clz class android system properti method mtd clz method string class string val string mtd invok null miui version val val replac int version integ pars int val return version catch return fals view pad top tool bar public static void set height pad context context view view build build view group layout param view layout param height status bar height context view set pad view pad left view pad top status bar height context view pad view pad bottom view pad top public static void set pad context context view view build build view set pad view pad left view pad top status bar height context view pad view pad bottom root view view fit system window fals public static void forc fit system window activ activ forc fit system window activ window root view view fit system window fals public static void forc fit system window window window forc fit system window view group window decor view find view window root view view fit system window fals public static void forc fit system window view group view group build build int count view group child count int count view view view group child view instanceof view group forc fit system window view group view els view compat fit system window view view compat set fit system window view fals 