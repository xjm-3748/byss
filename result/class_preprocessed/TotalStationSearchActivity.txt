packag hotbitmapgg bilibili modul search import android app activ import android content intent import android graphic drawabl anim drawabl import android bundl import android support app fragment import android support app fragment manag import android support app fragment state pager adapt import android support view view pager import android text text paint import android text text util import android view view import android view inputmethod editor info import android widget edit text import android widget imag view import android widget linear layout import android widget text view import flyco tablayout slide tab layout import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili entiti search search archiv info import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili util constant util import hotbitmapgg bilibili util key board util import hotbitmapgg bilibili util status bar util import hotbitmapgg bilibili widget scroll view pager import hotbitmapgg ohmybilibili import jakewharton rxbind view view import jakewharton rxbind widget text view import java util array list import java util list import java util concurr time unit import butterknif bind view import butterknif click import observ import android schedul android schedul import function func import schedul schedul creat hcc public class total station search activ extend base activ bind view slide tab slide tab layout slide tab layout bind view view pager scroll view pager view pager bind view search load imag view load view bind view search img imag view search btn bind view search edit edit text search edit bind view search text clear imag view search text clear bind view search layout linear layout search layout privat string content privat anim drawabl anim drawabl privat list string titl array list privat list fragment fragment array list privat list search archiv info data bean nav bean nav array list overrid public int layout return layout activ search overrid public void init tool bar status bar status bar util set light status bar true process overrid public void init view bundl save instanc state intent intent intent intent null content intent string extra constant util load view set imag resourc drawabl anim search load anim drawabl anim drawabl load view drawabl show search anim search edit clear focus search edit set text content search data search set edit text privat void set edit text text view text chang search edit compos bind lifecycl map char sequenc string observ android schedul main thread subscrib text util empti search text clear set visibl view els search text clear set visibl view view click search text clear observ android schedul main thread subscrib void search edit set text text view editor action search edit filter integ text util empti search edit text string trim filter integ integ editor info flat map func integ observ string overrid public observ string call integ integ return observ search edit text string trim observ android schedul main thread subscrib key board util close keybord search edit total station search activ show search anim clear data content search data privat void search view click search btn throttl time unit map void search edit text string trim filter text util empti observ android schedul main thread subscrib key board util close keybord search edit total station search activ show search anim clear data content search data privat void clear data nav clear titl clear fragment clear privat void search data int page int page size retrofit helper bili app search archiv content page page size compos bind lifecycl map search archiv info data subscrib schedul observ android schedul main thread subscrib data bean nav add data bean nav finish task throwabl set empti layout overrid public void finish task hide search anim titl add titl add nav check num result nav total titl add nav check num result nav total titl add nav check num result nav total archiv result fragment archiv result fragment archiv result fragment instanc content bangumi result fragment bangumi result fragment bangumi result fragment instanc content upper result fragment upper result fragment upper result fragment instanc content movi result fragment movi result fragment movi result fragment instanc content fragment add archiv result fragment fragment add bangumi result fragment fragment add upper result fragment fragment add movi result fragment search tab adapt adapt search tab adapt support fragment manag titl fragment view pager set adapt adapt view pager set offscreen page limit titl size slide tab layout set view pager view pager measur tab layout text width slide tab layout set current tab adapt notifi data set chang slide tab layout notifi data set chang view pager add page chang listen view pager page chang listen overrid public void page scroll int posit float posit offset int posit offset pixel overrid public void page select int posit measur tab layout text width posit overrid public void page scroll state chang int state public string check num result int num result return num result string valu num result privat void measur tab layout text width int posit string titl titl posit text view titl view slide tab layout titl view posit text paint paint titl view paint float text width paint measur text titl slide tab layout set indic width text width privat void show search anim load view set visibl view search layout set visibl view anim drawabl start privat void hide search anim load view set visibl view search layout set visibl view anim drawabl stop public void set empti layout load view set visibl view search layout set visibl view load view set imag resourc drawabl search fail click search void press overrid public void press anim drawabl null anim drawabl run anim drawabl stop anim drawabl null super press public static void launch activ activ string str intent intent intent activ total station search activ class intent put extra constant util str activ start activ intent overrid protect void destroy super destroy anim drawabl null anim drawabl stop anim drawabl null privat static class search tab adapt extend fragment state pager adapt privat list string titl privat list fragment fragment search tab adapt fragment manag list string titl list fragment fragment super titl titl fragment fragment overrid public fragment item int posit return fragment posit overrid public char sequenc page titl int posit return titl posit overrid public int count return fragment size 