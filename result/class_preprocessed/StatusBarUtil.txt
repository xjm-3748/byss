packag hotbitmapgg bilibili util import android annot target api import android app activ import android app dialog import android content context import android graphic color import android build import android support annot int rang import android support annot null import android view view import android view window import android view window manag import java lang reflect field import java lang reflect method creat hcc public class status bar util privat final boolean light status bar privat final boolean transpar status bar privat final boolean transpar navigationbar privat final window window privat final view action bar view privat final int current build privat status bar util window window boolean light status bar boolean transpar status bar boolean transpar navigationbar view action bar view light status bar light status bar transpar status bar transpar status bar window window transpar navigationbar transpar navigationbar action bar view action bar view public static boolean kitkat return build build public static builder activ activ return builder set window activ public static builder dialog dialog return builder set window dialog public static builder window window return builder set window window default status mhdpi hdpi xhdpi xxhdpi xxhdpi status don forget toolbar return int rang public static int status bar offset context context kitkat return context app context context applic context int result int resourc app context resourc identifi status bar height dimen android resourc result app context resourc dimens pixel size resourc return result int rang public static int navig bar offset context context kitkat return context app context context applic context int result int resourc app context resourc identifi navig bar height dimen android resourc result app context resourc dimens pixel size resourc return result privat void process action bar final view null transpar status bar kitkat return post set pad pad left pad top status bar offset context pad pad bottom layout param height status bar offset context privat void process privat tri process fli light status bar catch tri process light status bar catch privat void process process privat process action bar action bar view current build current build process kitkat els current build process target api build privat void process kitkat window manag layout param win param window attribut final int bit window manag layout param transpar status bar win param flag bit els win param flag bit window set attribut win param test redmi note privat void process boolean light status bar throw class extend window clazz window class int dark mode flag class layout param class android view miui window manag layout param field field layout param field dark mode flag field int layout param method extra flag field clazz method set extra flag int class int class extra flag field invok window light status bar dark mode flag dark mode flag fli privat void process fli boolean light status bar throw window manag layout param window attribut class instanc class android view window manag layout param int valu instanc declar field int field field instanc declar field meizu flag field set access true int origin field int light status bar field set origin valu els field set valu origin target api build privat void process current build return int flag window decor view system visibl light status bar link href https develop android refer android attr html window light status bar flag window manag layout param view window set status bar color color transpar status bar flag view view window set status bar color color transpar navigationbar flag view window set navig bar color color window decor view set system visibl flag public final static class builder privat window window privat boolean light status bar fals privat boolean transpar statusbar fals privat boolean transpar navigationbar fals privat view action bar view public builder set actionbar view null view actionbar view action bar view actionbar view return privat builder set window null window window window window return privat builder set window null activ activ window activ window return privat builder set window null dialog dialog window dialog window return public builder set light status bar boolean light status bar light status bar light status bar return public builder set transpar statusbar boolean transpar statusbar transpar statusbar transpar statusbar return public builder set transpar navigationbar boolean transpar navigationbar transpar navigationbar transpar navigationbar return public void process status bar util window light status bar transpar statusbar transpar navigationbar action bar view process 