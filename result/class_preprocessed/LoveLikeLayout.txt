packag hotbitmapgg bilibili widget livelik import android anim anim import android anim anim listen adapt import android anim anim set import android anim object anim import android anim valu anim import android content context import android graphic point import android graphic drawabl drawabl import android util attribut set import android view view import android view anim acceler deceler interpol import android view anim acceler interpol import android view anim deceler interpol import android view anim interpol import android view anim linear interpol import android widget imag view import android widget relat layout import hotbitmapgg ohmybilibili import java util random creat hcc public class love layout extend relat layout privat interpol line linear interpol privat interpol acc acceler interpol privat interpol dce deceler interpol privat interpol accdec acceler deceler interpol privat interpol interpol privat random random random privat drawabl drawabl privat int drawabl height privat int drawabl width privat layout param layout param layout privat int measur height layout privat int measur width public love layout context context context null public love layout context context attribut set attr context attr public love layout context context attribut set attr int def style attr super context attr def style attr init privat void init drawabl drawabl drawabl resourc drawabl drawabl live drawabl resourc drawabl drawabl live drawabl resourc drawabl drawabl live drawabl resourc drawabl drawabl live drawabl resourc drawabl drawabl live drawabl drawabl drawabl drawabl drawabl drawabl height intrins height drawabl width intrins width layout param layout param drawabl width drawabl height layout param add rule layout param add rule interpol interpol interpol line interpol acc interpol dce interpol accdec layout overrid protect void measur int width measur spec int height measur spec super measur width measur spec height measur spec measur height measur height measur width measur width public void add love final imag view imag view imag view context imag view set imag drawabl drawabl random int imag view set layout param layout param add view imag view anim animtor animtor imag view animtor add listen anim listen adapt overrid public void anim anim anim remov view imag view super anim anim animtor start privat anim animtor view target anim set enter animtor set enter animtor set target valu anim bezier animtor bezier animtor target anim set anim set anim set anim set play sequenti enter animtor set anim set play sequenti enter animtor set bezier animtor anim set set interpol interpol random int anim set set target target return anim set privat anim set enter animtor set view target object anim alpha object anim float target view object anim scale object anim float target view object anim scale object anim float target view anim set set anim set set set durat set set interpol linear interpol set play togeth alpha scale scale set set target target return set privat valu anim bezier animtor final view target bezier evalu evalu bezier evalu point point valu anim anim valu anim object evalu point measur width drawabl width measur height drawabl height point random int width anim set durat anim set target target anim add updat listen valu anim point anim valu point valu anim anim valu target set anim valu target set anim valu target set alpha valu anim anim fraction return anim privat point point int scale point point point point random int measur width point random int measur height scale return point 