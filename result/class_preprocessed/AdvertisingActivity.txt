packag hotbitmapgg bilibili modul home region import android bundl import android support widget swipe refresh layout import android support app action bar import android support widget grid layout manag import android support widget recycl view import android support widget toolbar import android view menu import android view menu item import hotbitmapgg bilibili adapt section region recommend dynam section import hotbitmapgg bilibili adapt section region recommend hot section import hotbitmapgg bilibili adapt section region recommend section import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili entiti region region recommend info import hotbitmapgg bilibili util constant util import hotbitmapgg bilibili util log util import hotbitmapgg bilibili widget banner banner entiti import hotbitmapgg bilibili widget section section recycl view adapt import hotbitmapgg ohmybilibili import hotbitmapgg bilibili adapt section region recommend banner section import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili util toast util import java util array list import java util list import butterknif bind view import observ import android schedul android schedul import schedul schedul creat hcc public class advertis activ extend base activ bind view toolbar toolbar toolbar bind view recycl recycl view recycl view bind view swipe refresh layout swipe refresh layout refresh layout privat boolean refresh fals privat list banner entiti banner entiti array list privat section recycl view adapt section recycl view adapt privat list region recommend info data bean banner bean top bean banner array list privat list region recommend info data bean recommend bean recommend array list privat list region recommend info data bean bean news array list privat list region recommend info data bean dynam bean dynam array list overrid public int layout return layout activ advertis overrid public void init view bundl save instanc state init refresh layout init recycl view overrid public void init tool bar toolbar set titl set support action bar toolbar action bar support action bar support action bar support action bar null support action bar set display home enabl true overrid public boolean option item select menu item item item item android home press return super option item select item overrid public boolean creat option menu menu menu menu inflat inflat menu menu region menu return true overrid public void init refresh layout refresh layout set color scheme resourc color color primari recycl view post refresh layout set refresh true refresh true load data refresh layout set refresh listen clear data load data privat void clear data banner entiti clear banner clear recommend clear news clear dynam clear refresh true section recycl view adapt remov section overrid public void init recycl view section recycl view adapt section recycl view adapt grid layout manag layout manag grid layout manag advertis activ layout manag set span size lookup grid layout manag span size lookup overrid public int span size int posit switch section recycl view adapt section item view type posit case section recycl view adapt return default return recycl view set layout manag layout manag recycl view set adapt section recycl view adapt set recycl scroll overrid public void load data retrofit helper bili app region recommend constant util compos bind lifecycl map region recommend info data subscrib schedul observ android schedul main thread subscrib data bean banner add data bean banner top recommend add data bean recommend news add data bean dynam add data bean dynam finish task throwabl log util throwabl messag refresh layout set refresh fals toast util short toast overrid public void finish task set banner section recycl view adapt add section region recommend banner section banner entiti section recycl view adapt add section region recommend hot section advertis activ constant util recommend section recycl view adapt add section region recommend section advertis activ constant util news section recycl view adapt add section region recommend dynam section advertis activ dynam refresh fals refresh layout set refresh fals section recycl view adapt notifi data set chang privat void set banner observ banner compos bind lifecycl top bean banner entiti add banner entiti top bean uri top bean titl top bean imag privat void set recycl scroll recycl view set touch listen event refresh 