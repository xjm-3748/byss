packag hotbitmapgg bilibili modul video import android annot suppress lint import android app activ import android content intent import android content res color state list import android graphic color import android bundl import android support design widget app bar layout import android support design widget collaps toolbar layout import android support design widget float action button import android support app fragment import android support app fragment manag import android support app fragment state pager adapt import android support view view pager import android support app action bar import android support widget toolbar import android text text paint import android text text util import android view menu import android view menu item import android view view import android view anim acceler interpol import android view anim overshoot interpol import android widget imag view import android widget text view import bumptech glide glide import bumptech glide load engin disk cach strategi import flyco tablayout slide tab layout import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili event app bar state chang event import hotbitmapgg bilibili network auxiliari url helper import hotbitmapgg bilibili util constant util import hotbitmapgg bilibili util display util import hotbitmapgg bilibili util system bar helper import hotbitmapgg ohmybilibili import hotbitmapgg bilibili entiti video video detail info import hotbitmapgg bilibili network retrofit helper import java util array list import java util list import butterknif bind view import android schedul android schedul import schedul schedul creat hcc public class video detail activ extend base activ bind view toolbar toolbar toolbar bind view collaps toolbar collaps toolbar layout collaps toolbar layout bind view video preview imag view video preview bind view tab layout slide tab layout slide tab layout bind view view pager view pager view pager bind view fab float action button bind view app bar layout app bar layout app bar layout bind view player text view player bind view text view text privat int privat string img url privat video detail info data bean video detail info privat list string titl array list privat list fragment fragment array list overrid public int layout return layout activ video detail overrid public void init view bundl save instanc state intent intent intent intent null intent int extra constant util img url intent string extra constant util glide video detail activ load url helper clear video preview url img url center crop disk cach strategi disk cach strategi placehold drawabl bili default imag dont anim video preview load data set clickabl fals set background tint list color state list valu resourc color color gray set translat resourc dimens dimen float action button size set click listen video player activ launch video detail activ video detail info page cid video detail info titl app bar layout add offset chang listen app bar layout vertic offset set view translat vertic offset app bar layout add offset chang listen app bar state chang event overrid public void state chang app bar layout app bar layout state state int vertic offset state state player set visibl view text set visibl view toolbar set content inset relat display util video detail activ els state state player set visibl view text set visibl view toolbar set content inset relat display util video detail activ els player set visibl view text set visibl view toolbar set content inset relat display util video detail activ suppress lint set text overrid public void init tool bar toolbar set titl set support action bar toolbar action bar support action bar support action bar support action bar null support action bar set display home enabl true collaps toolbar layout set expand titl color color toolbar collaps toolbar layout set collaps titl text color color status bar system bar helper immers status bar system bar helper set height pad toolbar text set text overrid public boolean creat option menu menu menu menu inflat inflat menu menu video menu return true overrid public boolean option item select menu item item item item android home press return super option item select item privat void set view translat int target set translat target target show els target hide public static void launch activ activ int aid string img url intent intent intent activ video detail activ class intent add flag intent intent put extra constant util aid intent put extra constant util img url activ start activ intent privat void show anim scale scale set interpol overshoot interpol start set clickabl true privat void hide anim scale scale set interpol acceler interpol start set clickabl fals overrid public void load data retrofit helper bili app video detail compos bind lifecycl subscrib schedul observ android schedul main thread subscrib video detail video detail info video detail data finish task throwabl set clickabl fals set background tint list color state list valu resourc color color gray overrid public void finish task set clickabl true set background tint list color state list valu resourc color color color primari collaps toolbar layout set titl text util empti img url glide video detail activ load video detail info center crop disk cach strategi disk cach strategi placehold drawabl bili default imag dont anim video preview video introduct fragment video introduct fragment video introduct fragment instanc video comment fragment video comment fragment video comment fragment instanc fragment add video introduct fragment fragment add video comment fragment set pager titl string valu video detail info stat repli privat void set pager titl string num titl add titl add num video detail pager adapt adapt video detail pager adapt support fragment manag fragment titl view pager set adapt adapt view pager set offscreen page limit slide tab layout set view pager view pager measur tab layout text width view pager add page chang listen view pager page chang listen overrid public void page scroll int posit float posit offset int posit offset pixel overrid public void page select int posit measur tab layout text width posit overrid public void page scroll state chang int state privat void measur tab layout text width int posit string titl titl posit text view titl view slide tab layout titl view posit text paint paint titl view paint float text width paint measur text titl slide tab layout set indic width text width public static class video detail pager adapt extend fragment state pager adapt privat list fragment fragment privat list string titl video detail pager adapt fragment manag list fragment fragment list string titl super fragment fragment titl titl overrid public fragment item int posit return fragment posit overrid public int count return fragment size overrid public char sequenc page titl int posit return titl posit 