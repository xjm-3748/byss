packag hotbitmapgg bilibili modul common import android annot suppress lint import android app activ import android app alert dialog import android content intent import android graphic bitmap import android net uri import android bundl import android handler import android support app action bar import android support widget toolbar import android text text util import android view menu import android view menu item import android view view import android webkit result import android webkit web chrome client import android webkit web set import android webkit web view import android webkit web view client import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili util clipboard util import hotbitmapgg bilibili util constant util import hotbitmapgg bilibili util toast util import hotbitmapgg bilibili widget circl progress view import hotbitmapgg ohmybilibili import butterknif bind view creat hcc public class browser activ extend base activ bind view toolbar toolbar toolbar bind view circl progress circl progress view progress bar bind view web view web view web view privat final handler handler handler privat string url titl privat web view client base web view client web view client base overrid public int layout return layout activ web overrid public void init view bundl save instanc state intent intent intent intent null url intent string extra constant util titl intent string extra constant util setup web view overrid public void init tool bar toolbar set titl text util empti titl titl set support action bar toolbar action bar support action bar support action bar support action bar null support action bar set display home enabl true overrid public boolean creat option menu menu menu menu inflat inflat menu menu browser menu return true overrid public boolean option item select menu item item switch item item case android home press break case menu share share break case menu open intent intent intent intent intent set data uri pars url start activ intent break case menu copi clipboard util set text browser activ url toast util short toast break return super option item select item privat void share intent intent intent intent intent set type text plain intent put extra intent intent put extra intent url start activ intent creat chooser intent titl overrid public void press web view web view copi list size web view url equal web view copi list item index origin url web view els finish public static void launch activ activ string url string titl intent intent intent activ browser activ class intent put extra constant util url intent put extra constant util titl activ start activ intent suppress lint set java script enabl privat void setup web view progress bar spin final web set web set web view set web set set java script enabl true web set set java script open window automat true web set set cach mode web set web set set dom storag enabl true web set set geoloc enabl true web set set wide view port true web set set load overview mode true web view set set block network imag true web view set web view client web view client web view request focus view web view set set default text encod web view set web chrome client web chrome client overrid public boolean alert web view view string url string messag final result result alert dialog builder alert dialog builder browser activ set titl string app set messag messag set posit button dialog result confirm set cancel fals creat show return true web view load url url public class web view client base extend web view client overrid public void page start web view view string url bitmap favicon super page start view url favicon overrid public void page finish web view view string url super page finish view url progress bar set visibl view progress bar stop spin web view set set block network imag fals overrid public void receiv error web view view int error code string descript string fail url super receiv error view error code descript fail url string error html html bodi bodi html view load data base null error html text html null overrid protect void paus web view reload super paus overrid protect void destroy web view destroy handler remov callback messag null super destroy 