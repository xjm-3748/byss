packag hotbitmapgg bilibili modul home bangumi import android bundl import android support app action bar import android support widget grid layout manag import android support widget recycl view import android support widget toolbar import android view layout inflat import android view menu item import android view view import hotbitmapgg bilibili adapt bangumi index adapt import hotbitmapgg bilibili adapt helper header view recycl adapt import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili entiti bangumi bangumi index info import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili widget circl progress view import hotbitmapgg ohmybilibili import java util array list import java util list import java util concurr time unit import butterknif bind view import android schedul android schedul import schedul schedul creat hcc public class bangumi index activ extend base activ bind view recycl recycl view recycl view bind view toolbar toolbar toolbar bind view circl progress circl progress view circl progress view privat grid layout manag grid layout manag privat header view recycl adapt header view recycl adapt privat list bangumi index info result bean categori bean categori array list overrid public int layout return layout activ bangumi index overrid public void init view bundl save instanc state load data overrid public void init recycl view recycl view set fix size true grid layout manag grid layout manag bangumi index activ grid layout manag set span size lookup grid layout manag span size lookup overrid public int span size int posit return posit grid layout manag span count recycl view set layout manag grid layout manag bangumi index adapt adapt bangumi index adapt recycl view categori header view recycl adapt header view recycl adapt adapt creat head layout recycl view set adapt header view recycl adapt overrid public void init tool bar toolbar set titl set support action bar toolbar action bar action bar support action bar action bar null action bar set display home enabl true overrid public boolean option item select menu item item item item android home press return super option item select item overrid public void load data retrofit helper bangumi bangumi index compos bind lifecycl subscrib show progress bar subscrib schedul delay time unit observ android schedul main thread subscrib bangumi index info categori add bangumi index info result categori finish task throwabl hide progress bar overrid public void show progress bar circl progress view set visibl view circl progress view spin overrid public void hide progress bar circl progress view set visibl view circl progress view stop spin overrid public void finish task init recycl view hide progress bar privat void creat head layout view head view layout inflat inflat layout layout bangumi index head recycl view fals header view recycl adapt add header view head view 