packag hotbitmapgg bilibili modul home bangumi import android bundl import android support widget swipe refresh layout import android support widget grid layout manag import android support widget recycl view import android view view import hotbitmapgg bilibili adapt section home bangumi banner section import hotbitmapgg bilibili adapt section home bangumi bobi section import hotbitmapgg bilibili adapt section home bangumi item section import hotbitmapgg bilibili adapt section home bangumi serial section import hotbitmapgg bilibili adapt section home bangumi recommend section import hotbitmapgg bilibili adapt section home bangumi season section import hotbitmapgg bilibili base lazi fragment import hotbitmapgg bilibili entiti bangumi bangumi app index info import hotbitmapgg bilibili entiti bangumi bangumi recommend info import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili util snackbar util import hotbitmapgg bilibili widget custom empti view import hotbitmapgg bilibili widget banner banner entiti import hotbitmapgg bilibili widget section section recycl view adapt import hotbitmapgg ohmybilibili import java util array list import java util list import butterknif bind view import observ import android schedul android schedul import function func import schedul schedul creat hcc public class home bangumi fragment extend lazi fragment bind view swipe refresh layout swipe refresh layout swipe refresh layout bind view recycl recycl view recycl view bind view empti layout custom empti view custom empti view privat int season privat boolean refresh fals privat list banner entiti banner list array list privat section recycl view adapt section recycl view adapt privat list bangumi recommend info result bean bangumi recommend array list privat list bangumi app index info result bean bean head bean banner array list privat list bangumi app index info result bean bean bodi bean bangumibobi array list privat list bangumi app index info result bean previous bean list bean season bangumi array list privat list bangumi app index info result bean serial bean bangumi serial array list public static home bangumi fragment instanc return home bangumi fragment overrid public int layout res return layout fragment home bangumi overrid public void finish creat view bundl state prepar true lazi load overrid protect void lazi load prepar visibl return init refresh layout init recycl view prepar fals overrid protect void init recycl view section recycl view adapt section recycl view adapt grid layout manag grid layout manag grid layout manag activ grid layout manag set span size lookup grid layout manag span size lookup overrid public int span size int posit switch section recycl view adapt section item view type posit case section recycl view adapt return default return recycl view set fix size true recycl view set nest scroll enabl true recycl view set layout manag grid layout manag recycl view set adapt section recycl view adapt set recycl scroll overrid protect void init refresh layout swipe refresh layout set color scheme resourc color color primari swipe refresh layout post swipe refresh layout set refresh true refresh true load data swipe refresh layout set refresh listen clear data load data privat void clear data refresh true banner clear banner list clear bangumibobi clear bangumi recommend clear bangumi serial clear season bangumi clear section recycl view adapt remov section overrid protect void load data retrofit helper bangumi bangumi app index compos bind lifecycl flat map func bangumi app index info observ bangumi recommend info overrid public observ bangumi recommend info call bangumi app index info bangumi app index info banner add bangumi app index info result head bangumibobi add bangumi app index info result bodi season bangumi add bangumi app index info result previous list season bangumi app index info result previous season bangumi serial add bangumi app index info result serial return retrofit helper bangumi bangumi recommend compos bind lifecycl map bangumi recommend info result subscrib schedul observ android schedul main thread subscrib result bean bangumi recommend add result bean finish task throwabl init empti view overrid protect void finish task swipe refresh layout set refresh fals refresh fals hide empti view observ banner compos bind lifecycl banner bean banner list add banner entiti banner bean link banner bean titl banner bean img section recycl view adapt add section home bangumi banner section banner list section recycl view adapt add section home bangumi item section activ section recycl view adapt add section home bangumi serial section activ bangumi serial bangumibobi empti section recycl view adapt add section home bangumi bobi section activ bangumibobi section recycl view adapt add section home bangumi season section activ season season bangumi section recycl view adapt add section home bangumi recommend section activ bangumi recommend section recycl view adapt notifi data set chang public void init empti view swipe refresh layout set refresh fals custom empti view set visibl view recycl view set visibl view custom empti view set empti imag drawabl img tip error load error custom empti view set empti text snackbar util show messag recycl view public void hide empti view custom empti view set visibl view recycl view set visibl view privat void set recycl scroll recycl view set touch listen event refresh 