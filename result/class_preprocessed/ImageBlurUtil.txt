packag hotbitmapgg bilibili util import android content context import android graphic bitmap import android graphic canva import android graphic drawabl bitmap drawabl import android graphic drawabl drawabl import android renderscript alloc import android renderscript element import android renderscript render script import android renderscript script intrins blur creat hcc public class imag blur util privat static final float privat static final float drawabl bitmap public static bitmap drawabl bitmap drawabl drawabl bitmap bitmap drawabl instanceof bitmap drawabl bitmap drawabl bitmap drawabl bitmap drawabl drawabl bitmap drawabl bitmap null return bitmap drawabl bitmap drawabl intrins width drawabl intrins height bitmap bitmap creat bitmap bitmap config els bitmap bitmap creat bitmap drawabl intrins width drawabl intrins height bitmap config canva canva canva bitmap drawabl set bound canva width canva height drawabl draw canva return bitmap public static bitmap blur context context bitmap imag float radius int width math imag width int height math imag height bitmap input bitmap bitmap creat scale bitmap imag width height fals bitmap output bitmap bitmap creat bitmap input bitmap render script render script render script creat context render script script intrins blur blur script script intrins blur creat element render script alloc alloc copi alloc tmp alloc creat bitmap input bitmap alloc tmp alloc creat bitmap output bitmap blur script set radius radius blur script blur script set input tmp blur script tmp alloc tmp copi output bitmap return output bitmap 