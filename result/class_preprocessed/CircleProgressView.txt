packag hotbitmapgg bilibili widget import android content context import android content res type array import android graphic canva import android graphic paint import android graphic paint style import android graphic rect import android parcel import android parcel import android system clock import android support annot null import android util attribut set import android util display metric import android util type valu import android view view import hotbitmapgg ohmybilibili creat hcc materi design progress bar public class circl progress view extend view privat static final string circl progress view class simpl privat int circl radius privat int bar width privat int rim width privat final int bar length privat final int bar max length privat boolean fill radius fals privat doubl time start grow privat doubl bar spin cycl time privat float bar extra length privat boolean bar grow front true privat long paus time grow privat final long paus grow time privat int bar color privat int rim color privat paint bar paint paint privat paint rim paint paint privat rect circl bound rect privat float spin speed privat long time anim privat boolean linear progress privat float progress privat float target progress privat boolean spin fals privat progress callback callback constructor progress wheel public circl progress view context context attribut set attr super context attr pars attribut context obtain style attribut attr styleabl circl progress view constructor progress wheel public circl progress view context context super context overrid protect void measur int width measur spec int height measur spec super measur width measur spec height measur spec int view width circl radius pad left pad int view height circl radius pad top pad bottom int width mode measur spec mode width measur spec int width size measur spec size width measur spec int height mode measur spec mode height measur spec int height size measur spec size height measur spec int width int height width mode measur spec width width size els width mode measur spec width math min view width width size els width view width height mode measur spec width mode measur spec height height size els height mode measur spec height math min view height height size els height view height set measur dimens width height size chang attach window dimens view becaus method call measur dimens dimens setup bound paint overrid protect void size chang int int int oldw int oldh super size chang oldw oldh setup bound setup paint invalid set properti paint draw progress wheel privat void setup paint bar paint set color bar color bar paint set anti alia true bar paint set style style bar paint set stroke width bar width rim paint set color rim color rim paint set anti alia true rim paint set style style rim paint set stroke width rim width set bound compon privat void setup bound int layout width int layout height int pad top pad top int pad bottom pad bottom int pad left pad left int pad pad fill radius int min valu math min layout width pad left pad layout height pad bottom pad top int circl diamet math min min valu circl radius bar width int offset layout width pad left pad circl diamet pad left int offset layout height pad top pad bottom circl diamet pad top circl bound rect offset bar width offset bar width offset circl diamet bar width offset circl diamet bar width els circl bound rect pad left bar width pad top bar width layout width pad bar width layout height pad bottom bar width pars attribut pass view param attribut pars privat void pars attribut type array display metric metric context resourc display metric bar width int type valu appli dimens type valu bar width metric rim width int type valu appli dimens type valu rim width metric circl radius int type valu appli dimens type valu circl radius metric circl radius int dimens styleabl circl progress view mat prog circl radius circl radius fill radius boolean styleabl circl progress view mat prog fill radius fals bar width int dimens styleabl circl progress view mat prog bar width bar width rim width int dimens styleabl circl progress view mat prog rim width rim width float base spin speed float styleabl circl progress view mat prog spin speed spin speed spin speed base spin speed bar spin cycl time int styleabl circl progress view mat prog bar spin cycl time int bar spin cycl time bar color color styleabl circl progress view mat prog bar color bar color rim color color styleabl circl progress view mat prog rim color rim color linear progress boolean styleabl circl progress view mat prog linear progress fals boolean styleabl circl progress view mat prog progress indetermin fals spin recycl public void set callback progress callback progress callback callback progress callback spin run callback protect void draw canva canva super draw canva canva draw arc circl bound fals rim paint boolean invalid fals spin invalid true long delta time system clock uptim milli time anim float delta normal delta time spin speed updat bar length delta time progress delta normal progress progress run callback time anim system clock uptim milli float progress float length bar length bar extra length edit mode length canva draw arc circl bound length fals bar paint els float progress progress progress target progress invalid true float delta time float system clock uptim milli time anim float delta normal delta time spin speed progress math min progress delta normal target progress time anim system clock uptim milli progress progress run callback float offset float progress progress linear progress float factor offset float math pow progress factor progress float math pow progress factor edit mode progress canva draw arc circl bound offset progress fals bar paint invalid invalid overrid protect void visibl chang null view chang view int visibl super visibl chang chang view visibl visibl time anim system clock uptim milli privat void updat bar length long delta time milli paus time grow paus grow time time start grow delta time milli time start grow bar spin cycl time time start grow bar spin cycl time paus time grow bar grow front bar grow front float distanc float math cos time start grow bar spin cycl time math float dest length bar max length bar length bar grow front bar extra length distanc dest length els float length dest length distanc progress bar extra length length bar extra length length els paus time grow delta time milli check wheel current spin public boolean spin return spin reset count increment mode public void reset count progress target progress invalid turn spin mode public void stop spin spin fals progress target progress invalid put view spin mode public void spin time anim system clock uptim milli spin true invalid privat void run callback float valu callback null callback progress updat valu privat void run callback callback null float normal progress float math progress callback progress updat normal progress set progress specif valu bar smooth anim valu param progress progress public void set progress float progress spin progress spin fals run callback progress progress els progress progress progress target progress return progress target progress time anim system clock uptim milli target progress math min progress invalid set progress specif valu bar set instant valu param progress progress public void set instant progress float progress spin progress spin fals progress progress els progress progress progress target progress return target progress math min progress progress target progress time anim system clock uptim milli invalid overrid public parcel save instanc state parcel super state super save instanc state wheel save state wheel save state super state progress progress target progress target progress spin spin spin speed spin speed bar width bar width bar color bar color rim width rim width rim color rim color circl radius circl radius linear progress linear progress fill radius fill radius return overrid public void restor instanc state parcel state state instanceof wheel save state super restor instanc state state return wheel save state wheel save state state super restor instanc state super state progress progress target progress target progress spin spin spin speed spin speed bar width bar width bar color bar color rim width rim width rim color rim color circl radius circl radius linear progress linear progress fill radius fill radius time anim system clock uptim milli return current progress wheel indetermin result public float progress return spin progress set determin progress mode param linear progress increas linear public void set linear progress boolean linear linear progress linear spin invalid return radius wheel pixel public int circl radius return circl radius set radius wheel param circl radius expect radius pixel public void set circl radius int circl radius circl radius circl radius spin invalid return width spin bar public int bar width return bar width set width spin bar param bar width spin bar width pixel public void set bar width int bar width bar width bar width spin invalid return color spin bar public int bar color return bar color set color spin bar param bar color spin bar color public void set bar color int bar color bar color bar color setup paint spin invalid return color wheel contour public int rim color return rim color set color wheel contour param rim color color wheel public void set rim color int rim color rim color rim color setup paint spin invalid return base spin speed full circl turn equal full turn valu appli smooth set progress public float spin speed return spin speed set base spin speed full circl turn equal full turn valu appli smooth set progress param spin speed desir base speed full turn public void set spin speed float spin speed spin speed spin speed return width wheel contour pixel public int rim width return rim width set width wheel contour param rim width width pixel public void set rim width int rim width rim width rim width spin invalid static class wheel save state extend base save state float progress float target progress boolean spin float spin speed int bar width int bar color int rim width int rim color int circl radius boolean linear progress boolean fill radius wheel save state parcel super state super super state privat wheel save state parcel super progress read float target progress read float spin read byte spin speed read float bar width read int bar color read int rim width read int rim color read int circl radius read int linear progress read byte fill radius read byte overrid public void write parcel parcel int flag super write parcel flag write float progress write float target progress write byte byte spin write float spin speed write int bar width write int bar color write int rim width write int rim color write int circl radius write byte byte linear progress write byte byte fill radius public static final creator wheel save state creator wheel save state public wheel save state creat parcel parcel return wheel save state public wheel save state array int size return wheel save state size public interfac progress callback method call progress reach valu order avoid float precis issu progress float decim indetermin mode callback call time wheel complet anim cycl progress valu param progress doubl valu includ void progress updat float progress 