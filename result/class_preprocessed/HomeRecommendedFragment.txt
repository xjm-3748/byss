packag hotbitmapgg bilibili modul home recommend import android bundl import android support widget swipe refresh layout import android support widget grid layout manag import android support widget recycl view import android text text util import android view view import hotbitmapgg bilibili adapt section home recommend banner section import hotbitmapgg bilibili adapt section home recommend topic section import hotbitmapgg bilibili adapt section home recommend section import hotbitmapgg bilibili base lazi fragment import hotbitmapgg bilibili entiti recommend recommend info import hotbitmapgg bilibili util constant util import hotbitmapgg bilibili widget custom empti view import hotbitmapgg bilibili widget banner banner entiti import hotbitmapgg bilibili widget section section recycl view adapt import hotbitmapgg ohmybilibili import hotbitmapgg bilibili adapt section home recommend activ center section import hotbitmapgg bilibili adapt section home recommend pic section import hotbitmapgg bilibili entiti recommend recommend banner info import hotbitmapgg bilibili network retrofit helper import hotbitmapgg bilibili util snackbar util import java util array list import java util list import butterknif bind view import observ import android schedul android schedul import function func import schedul schedul creat hcc public class home recommend fragment extend lazi fragment bind view swipe refresh layout swipe refresh layout swipe refresh layout bind view recycl recycl view recycl view bind view empti layout custom empti view custom empti view privat boolean refresh fals privat section recycl view adapt section adapt privat list banner entiti banner array list privat list recommend info result bean result array list privat list recommend banner info data bean recommend banner array list public static home recommend fragment instanc return home recommend fragment overrid public int layout res return layout fragment home recommend overrid public void finish creat view bundl state prepar true lazi load overrid protect void lazi load prepar visibl return init refresh layout init recycl view prepar fals overrid protect void init recycl view section adapt section recycl view adapt grid layout manag layout manag grid layout manag activ layout manag set span size lookup grid layout manag span size lookup overrid public int span size int posit switch section adapt section item view type posit case section recycl view adapt return case section recycl view adapt return default return recycl view set layout manag layout manag recycl view set adapt section adapt set recycl scroll overrid protect void init refresh layout swipe refresh layout set color scheme resourc color color primari swipe refresh layout post swipe refresh layout set refresh true refresh true load data swipe refresh layout set refresh listen clear data load data overrid protect void load data retrofit helper bili app recommend banner info compos bind lifecycl map recommend banner info data flat map func list recommend banner info data bean observ recommend info overrid public observ recommend info call list recommend banner info data bean data bean recommend banner add data bean return retrofit helper bili app recommend info compos bind lifecycl map recommend info result subscrib schedul observ android schedul main thread subscrib result bean result add result bean finish task throwabl init empti view banner privat void convert banner observ recommend banner compos bind lifecycl data bean banner add banner entiti data bean valu data bean titl data bean imag overrid protect void finish task swipe refresh layout set refresh fals refresh fals hide empti view convert banner section adapt add section home recommend banner section banner int size result size int size string type result type text util empti type switch type case constant util section adapt add section home recommend topic section activ result bodi cover result bodi titl result bodi param break case constant util section adapt add section home recommend activ center section activ result bodi break default section adapt add section home recommend section activ result head titl result type result head count result bodi break string style result head style style equal constant util section adapt add section home recommend pic section activ result bodi cover result bodi param section adapt notifi data set chang public void init empti view swipe refresh layout set refresh fals custom empti view set visibl view recycl view set visibl view custom empti view set empti imag drawabl img tip error load error custom empti view set empti text snackbar util show messag recycl view public void hide empti view custom empti view set visibl view recycl view set visibl view privat void clear data banner clear recommend banner clear result clear refresh true section adapt remov section privat void set recycl scroll recycl view set touch listen event refresh 