packag hotbitmapgg bilibili modul common import android content intent import android bundl import android support annot null import android support design widget navig view import android support app fragment import android support app fragment transact import android support view graviti compat import android support widget drawer layout import android support app app compat deleg import android view key event import android view menu item import android view view import android widget imag view import android widget text view import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili modul entri attent peopl fragment import hotbitmapgg bilibili modul entri consum histori fragment import hotbitmapgg bilibili modul entri histori fragment import hotbitmapgg bilibili modul entri favorit fragment import hotbitmapgg bilibili modul entri line download activ import hotbitmapgg bilibili modul entri set fragment import hotbitmapgg bilibili modul entri vip activ import hotbitmapgg bilibili modul home home page fragment import hotbitmapgg bilibili util constant util import hotbitmapgg bilibili util prefer util import hotbitmapgg bilibili util toast util import hotbitmapgg bilibili widget circl imag view import hotbitmapgg ohmybilibili import butterknif bind view creat hcc main activ public class main activ extend base activ implement navig view navig item select listen bind view drawer layout drawer layout drawer layout bind view navig view navig view navig view privat fragment fragment privat int current tab index privat int index privat long exit time privat home page fragment home page fragment overrid public int layout return layout activ main overrid public void init view bundl save instanc state fragment init fragment init navig view fragment privat void init fragment home page fragment home page fragment instanc favorit fragment favorit fragment favorit fragment instanc histori fragment histori fragment histori fragment instanc attent peopl fragment attent peopl fragment attent peopl fragment instanc consum histori fragment consum histori fragment consum histori fragment instanc set fragment set fragment set fragment instanc fragment fragment home page fragment favorit fragment histori fragment attent peopl fragment consum histori fragment set fragment fragment support fragment manag transact add home page fragment show home page fragment commit navig view privat void init navig view navig view set navig item select listen view header view navig view header view circl imag view user avatar view circl imag view header view find view user avatar view text view user text view header view find view user text view user sign text view header view find view user info imag view switch mode imag view header view find view head switch mode user avatar view set imag resourc drawabl hotbitmapgg avatar user set text resourc text string hotbitmapgg user sign set text resourc text string user head layout switch mode set click listen switch night mode boolean flag prefer util boolean constant util fals flag switch mode set imag resourc drawabl switch daili els switch mode set imag resourc drawabl switch night privat void switch night mode boolean night prefer util boolean constant util fals night app compat deleg set default night mode app compat deleg prefer util put boolean constant util fals els app compat deleg set default night mode app compat deleg prefer util put boolean constant util true recreat overrid public boolean navig item select null menu item item drawer layout close drawer graviti compat switch item item case item home chang fragment index item return true case item download start activ intent main activ line download activ class return true case item vip start activ intent main activ vip activ class return true case item favourit chang fragment index item return true case item histori chang fragment index item return true case item group chang fragment index item return true case item tracker chang fragment index item return true case item theme return true case item app return true case item set chang fragment index item return true return fals fragment privat void switch fragment fragment transact trx support fragment manag transact trx hide fragment current tab index fragment index ad trx add fragment index trx show fragment index commit current tab index index fragment privat void chang fragment index menu item item int current index index current index switch fragment item set check true drawer layout public void toggl drawer drawer layout drawer open graviti compat drawer layout close drawer graviti compat els drawer layout open drawer graviti compat drawer layout search view overrid public boolean key int key code key event event key code key event drawer layout drawer open drawer layout child drawer layout close drawer els home page fragment null home page fragment open search view home page fragment close search view els exit app els exit app return true app privat void exit app system current time milli exit time toast util short toast exit time system current time milli els prefer util remov constant util finish app fragment overrid protect void save instanc state bundl state super save instanc state state overrid public void init tool bar 