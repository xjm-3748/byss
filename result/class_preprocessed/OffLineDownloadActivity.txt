packag hotbitmapgg bilibili modul entri import android bundl import android support widget toolbar import android text format formatt import android view menu import android view menu item import android widget text view import hotbitmapgg bilibili base base activ import hotbitmapgg bilibili util common util import hotbitmapgg bilibili util toast util import hotbitmapgg bilibili widget custom empti view import hotbitmapgg bilibili widget progressbar number progress bar import hotbitmapgg ohmybilibili import butterknif bind view creat hcc public class line download activ extend base activ bind view toolbar toolbar toolbar bind view progress bar number progress bar progress bar bind view cach size text text view cach size overrid public int layout return layout activ offlin download overrid public void init view bundl save instanc state long phone total size common util phone total size long phone avail size common util phone avail size string total size str formatt format file size phone total size string availab size str formatt format file size phone avail size int progress count progress phone total size phone avail size progress bar set progress progress cach size set text total size str availab size str custom empti view empti layout custom empti view find view empti layout assert empti layout null empti layout set empti imag drawabl img tip error download empti layout set empti text overrid public void init tool bar toolbar set titl set support action bar toolbar toolbar set navig icon drawabl action button press light toolbar set navig click listen finish privat int count progress long phone total size long phone avail size doubl total size phone total size doubl availab size phone avail size int size int math floor total size math floor availab size doubl size math floor total size return int math floor overrid public boolean creat option menu menu menu menu inflat inflat menu menu recommend menu return true overrid public boolean option item select menu item item item item menu toast util short toast return super option item select item 